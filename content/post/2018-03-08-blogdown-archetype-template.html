---
title: blogdown archetype (template)
author: L. Collado-Torres
date: '2018-03-08'
slug: blogdown-archetype-template
categories:
  - rstats
tags:
  - Blog
  - rstats
header:
  caption: ''
  image: ''
  preview: yes
---



<p>In a recent blog post I <a href="http://lcolladotor.github.io/2018/02/17/r-markdown-blog-template/#.WqDOdpPwa50">wrote about having a template</a> for <em><a href="https://CRAN.R-project.org/package=blogdown">blogdown</a></em> posts. I wanted to know if it was possible to do this and make my life (and others hopefully) easier for writing new blog posts that are ready to go with the features I frequently re-use.</p>
<p>In my case, I like using <em><a href="https://bioconductor.org/packages/3.10/BiocStyle">BiocStyle</a></em> <a id='cite-Oles_2020'></a>(<a href='https://github.com/Bioconductor/BiocStyle'>Oleś, Morgan, and Huber, 2020</a>) for functions such as <code>CRANpkg()</code>, <code>Biocpkg()</code> and <code>Githubpkg()</code>. I also like using <em><a href="https://CRAN.R-project.org/package=knitcitations">knitcitations</a></em> <a id='cite-Boettiger_2019'></a>(<a href='https://CRAN.R-project.org/package=knitcitations'>Boettiger, 2019</a>) for citing with <code>citep()</code> packages or papers; I use <code>citation()</code> and <code>bib_metadata()</code> to get the necessary information, respectively. Furthermore, I prefer <code>devtools::session_info()</code> <a id='cite-Wickham_2019'></a>(<a href='https://CRAN.R-project.org/package=devtools'>Wickham, Hester, and Chang, 2019</a>) over <code>sessionInfo()</code> since it provides information of where you got the package, which becomes specially relevant when using packages from GitHub. Finally, I like thanking the creators of the tools I use, which in this case is <em><a href="https://CRAN.R-project.org/package=blogdown">blogdown</a></em> <a id='cite-Xie_2017'></a>(<a href='https://github.com/rstudio/blogdown'>Xie, Hill, and Thomas, 2017</a>).</p>
<p>I also like reminding myself how to do some common tasks. Basically, the equivalent of the new R Markdown file you get when using RStudio. In my case, I want to remind myself of the YAML options I frequently use (toc, fig height and width) or how to add screenshots.</p>
<p>My <a href="http://lcolladotor.github.io/2018/02/17/r-markdown-blog-template/#.WqDOdpPwa50">first post</a> on this topic is actually rather messy. That’s because at that time:</p>
<ul>
<li>I didn’t know about <a href="https://gohugo.io/content-management/archetypes/">hugo archetypes</a> which are <em>template</em> files,</li>
<li>I hadn’t even thought of making the <a href="http://lcolladotor.github.io/2018/03/07/blogdown-insert-image-addin/#.WqDRmpPwa50">Insert Image addin</a>.</li>
</ul>
<p>I went down the rabbit hole of archetypes and <em><a href="https://CRAN.R-project.org/package=blogdown">blogdown</a></em>, reported an <a href="https://github.com/rstudio/blogdown/issues/261">issue resulated to this topic</a> that was in the way of using archetypes for <code>.Rmd</code> posts. After some encouragement by Yihui Xie, I ended up fixing this issues in <a href="https://github.com/rstudio/blogdown/pull/263">my first pull request</a> <em>ever</em> to an RStudio package. The PR also added the <code>Archetype</code> option to the <em>New Post</em> RStudio addin (which I used right now ^^).</p>
<p><img src="http://lcolladotor.github.io/post/2018-03-08-blogdown-archetype-template_files/Screen Shot 2018-03-08 at 1.05.13 AM.png" alt="new post addin with archetype option" width="400"/></p>
<div id="creating-my-blogdown-archetype-template" class="section level3">
<h3>Creating my <em><a href="https://CRAN.R-project.org/package=blogdown">blogdown</a></em> archetype (template)</h3>
<p>To make my archetype (template) for blog posts I looked at the GitHub repo for the theme I’m using. It contains an <code>archetypes</code> directory with several files. I just looked at the one called <code>post.md</code> (check it <a href="https://github.com/gcushen/hugo-academic/blob/master/archetypes/post.md">here</a>) and copied it from <code>themes/hugo-academic/archetypes/post.md</code> to <code>archetypes/post.md</code>. Next I added my favorite R code below the last <code>+++</code> mark. You can check out the final version <a href="https://github.com/lcolladotor/hugoblog/blob/master/archetypes/post.md">here</a>. Below I display the version at the time of writing this blog post (I’m using a <code>.txt</code> extension otherwise the embedded gist doesn’t look good, but you want it to end in <code>.md</code>).</p>
<script src="https://gist.github.com/lcolladotor/c3e141e033306299d0946a76e71f2967.js"></script>
<p>I couldn’t get the archetype to respect some of the YAML that <em><a href="https://CRAN.R-project.org/package=blogdown">blogdown</a></em> adds, but well, that’s a single copy-paste I have to do now (if I actually decide to use the custom YAML options which are only for <code>.Rmd</code> posts).</p>
<p>I encourage you to make your own <em><a href="https://CRAN.R-project.org/package=blogdown">blogdown</a></em> archetype (template). At least it should remind you to include reproducibility information which matters whenever any R code is involved.</p>
</div>
<div id="acknowledgments" class="section level3">
<h3>Acknowledgments</h3>
<p>This blog post was made possible thanks to:</p>
<ul>
<li><em><a href="https://bioconductor.org/packages/3.10/BiocStyle">BiocStyle</a></em> (<a href='https://github.com/Bioconductor/BiocStyle'>Oleś, Morgan, and Huber, 2020</a>)</li>
<li><em><a href="https://CRAN.R-project.org/package=blogdown">blogdown</a></em> (<a href='https://github.com/rstudio/blogdown'>Xie, Hill, and Thomas, 2017</a>)</li>
<li><em><a href="https://CRAN.R-project.org/package=devtools">devtools</a></em> (<a href='https://CRAN.R-project.org/package=devtools'>Wickham, Hester, and Chang, 2019</a>)</li>
<li><em><a href="https://CRAN.R-project.org/package=knitcitations">knitcitations</a></em> (<a href='https://CRAN.R-project.org/package=knitcitations'>Boettiger, 2019</a>)</li>
</ul>
<p>Yihui Xie also talked about my first PR in <a href="https://yihui.name/en/2018/02/bite-sized-pull-requests/">his blog</a>.</p>
</div>
<div id="references" class="section level3">
<h3>References</h3>
<p>
<a id='bib-Boettiger_2019'></a><a href="#cite-Boettiger_2019">[1]</a><cite>
C. Boettiger.
<em>knitcitations: Citations for ‘Knitr’ Markdown Files</em>.
R package version 1.0.10.
2019.
URL: <a href="https://CRAN.R-project.org/package=knitcitations">https://CRAN.R-project.org/package=knitcitations</a>.</cite>
</p>
<p>
<a id='bib-Oles_2020'></a><a href="#cite-Oles_2020">[2]</a><cite>
A. Oleś, M. Morgan, and W. Huber.
<em>BiocStyle: Standard styles for vignettes and other Bioconductor documents</em>.
R package version 2.14.4.
2020.
URL: <a href="https://github.com/Bioconductor/BiocStyle">https://github.com/Bioconductor/BiocStyle</a>.</cite>
</p>
<p>
<a id='bib-Wickham_2019'></a><a href="#cite-Wickham_2019">[3]</a><cite>
H. Wickham, J. Hester, and W. Chang.
<em>devtools: Tools to Make Developing R Packages Easier</em>.
R package version 2.2.1.
2019.
URL: <a href="https://CRAN.R-project.org/package=devtools">https://CRAN.R-project.org/package=devtools</a>.</cite>
</p>
<p>
<a id='bib-Xie_2017'></a><a href="#cite-Xie_2017">[4]</a><cite>
Y. Xie, A. P. Hill, and A. Thomas.
<em>blogdown: Creating Websites with R Markdown</em>.
ISBN 978-0815363729.
Boca Raton, Florida: Chapman and Hall/CRC, 2017.
URL: <a href="https://github.com/rstudio/blogdown">https://github.com/rstudio/blogdown</a>.</cite>
</p>
</div>
<div id="reproducibility" class="section level3">
<h3>Reproducibility</h3>
<pre><code>## ─ Session info ───────────────────────────────────────────────────────────────────────────────────────────────────────
##  setting  value                       
##  version  R version 3.6.2 (2019-12-12)
##  os       macOS Catalina 10.15.2      
##  system   x86_64, darwin15.6.0        
##  ui       X11                         
##  language (EN)                        
##  collate  en_US.UTF-8                 
##  ctype    en_US.UTF-8                 
##  tz       America/New_York            
##  date     2020-02-12                  
## 
## ─ Packages ───────────────────────────────────────────────────────────────────────────────────────────────────────────
##  package       * version date       lib source                            
##  assertthat      0.2.1   2019-03-21 [1] CRAN (R 3.6.0)                    
##  backports       1.1.5   2019-10-02 [1] CRAN (R 3.6.0)                    
##  bibtex          0.4.2.2 2020-01-02 [1] CRAN (R 3.6.0)                    
##  BiocManager     1.30.10 2019-11-16 [1] CRAN (R 3.6.1)                    
##  BiocStyle     * 2.14.4  2020-01-09 [1] Bioconductor                      
##  blogdown        0.17    2019-11-13 [1] CRAN (R 3.6.1)                    
##  bookdown        0.17    2020-01-11 [1] CRAN (R 3.6.0)                    
##  callr           3.4.1   2020-01-24 [1] CRAN (R 3.6.2)                    
##  cli             2.0.1   2020-01-08 [1] CRAN (R 3.6.0)                    
##  colorout      * 1.2-1   2019-05-07 [1] Github (jalvesaq/colorout@7ea9440)
##  crayon          1.3.4   2017-09-16 [1] CRAN (R 3.6.0)                    
##  desc            1.2.0   2018-05-01 [1] CRAN (R 3.6.0)                    
##  devtools      * 2.2.1   2019-09-24 [1] CRAN (R 3.6.1)                    
##  digest          0.6.23  2019-11-23 [1] CRAN (R 3.6.0)                    
##  ellipsis        0.3.0   2019-09-20 [1] CRAN (R 3.6.0)                    
##  evaluate        0.14    2019-05-28 [1] CRAN (R 3.6.0)                    
##  fansi           0.4.1   2020-01-08 [1] CRAN (R 3.6.0)                    
##  fs              1.3.1   2019-05-06 [1] CRAN (R 3.6.0)                    
##  glue            1.3.1   2019-03-12 [1] CRAN (R 3.6.0)                    
##  htmltools       0.4.0   2019-10-04 [1] CRAN (R 3.6.0)                    
##  httr            1.4.1   2019-08-05 [1] CRAN (R 3.6.0)                    
##  jsonlite        1.6     2018-12-07 [1] CRAN (R 3.6.0)                    
##  knitcitations * 1.0.10  2019-09-15 [1] CRAN (R 3.6.0)                    
##  knitr           1.27    2020-01-16 [1] CRAN (R 3.6.0)                    
##  lubridate       1.7.4   2018-04-11 [1] CRAN (R 3.6.0)                    
##  magrittr        1.5     2014-11-22 [1] CRAN (R 3.6.0)                    
##  memoise         1.1.0   2017-04-21 [1] CRAN (R 3.6.0)                    
##  pkgbuild        1.0.6   2019-10-09 [1] CRAN (R 3.6.0)                    
##  pkgload         1.0.2   2018-10-29 [1] CRAN (R 3.6.0)                    
##  plyr            1.8.5   2019-12-10 [1] CRAN (R 3.6.0)                    
##  prettyunits     1.1.1   2020-01-24 [1] CRAN (R 3.6.2)                    
##  processx        3.4.1   2019-07-18 [1] CRAN (R 3.6.0)                    
##  ps              1.3.0   2018-12-21 [1] CRAN (R 3.6.0)                    
##  R6              2.4.1   2019-11-12 [1] CRAN (R 3.6.1)                    
##  Rcpp            1.0.3   2019-11-08 [1] CRAN (R 3.6.0)                    
##  RefManageR      1.2.12  2019-04-03 [1] CRAN (R 3.6.0)                    
##  remotes         2.1.0   2019-06-24 [1] CRAN (R 3.6.0)                    
##  rlang           0.4.3   2020-01-24 [1] CRAN (R 3.6.2)                    
##  rmarkdown       2.1     2020-01-20 [1] CRAN (R 3.6.0)                    
##  rprojroot       1.3-2   2018-01-03 [1] CRAN (R 3.6.0)                    
##  sessioninfo     1.1.1   2018-11-05 [1] CRAN (R 3.6.0)                    
##  stringi         1.4.5   2020-01-11 [1] CRAN (R 3.6.0)                    
##  stringr         1.4.0   2019-02-10 [1] CRAN (R 3.6.0)                    
##  testthat        2.3.1   2019-12-01 [1] CRAN (R 3.6.0)                    
##  usethis       * 1.5.1   2019-07-04 [1] CRAN (R 3.6.0)                    
##  withr           2.1.2   2018-03-15 [1] CRAN (R 3.6.0)                    
##  xfun            0.12    2020-01-13 [1] CRAN (R 3.6.0)                    
##  xml2            1.2.2   2019-08-09 [1] CRAN (R 3.6.0)                    
##  yaml            2.2.0   2018-07-25 [1] CRAN (R 3.6.0)                    
## 
## [1] /Library/Frameworks/R.framework/Versions/3.6/Resources/library</code></pre>
</div>
